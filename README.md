# Weather API Service üå§Ô∏è

```mermaid
graph TD
    User("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ Telegram") --> Bot("Telegram-–±–æ—Ç (UI)")
    Bot -->|"API-–∑–∞–ø—Ä–æ—Å"| WebService("–í–µ–±-—Å–µ—Ä–≤–∏—Å (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ + –ë–î)")
    WebService -->|"API-–æ—Ç–≤–µ—Ç"| Bot
```

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å –Ω–∞ FastAPI –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–≥–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
–í—Å–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∞ –∫–ª–∏–µ–Ω—Ç—ã (–±–æ—Ç, –≤–µ–±, –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è) —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ API.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
graph TD
    User("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ Telegram") --> Bot("Telegram-–±–æ—Ç (UI)")
    Bot -->|"API-–∑–∞–ø—Ä–æ—Å"| WebService("–í–µ–±-—Å–µ—Ä–≤–∏—Å (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ + –ë–î)")
    WebService -->|"API-–æ—Ç–≤–µ—Ç"| Bot
```

---

## –û –ø—Ä–æ–µ–∫—Ç–µ

**Weather API Service** ‚Äî —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–≥–æ–¥–Ω—ã–π backend, –∫–æ—Ç–æ—Ä—ã–π:
- –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥—ã, –ø—Ä–æ–≥–Ω–æ–∑–∞ –∏ –ø–æ–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤,
- –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –ª—é–±—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏: Telegram-–±–æ—Ç, –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å,
- —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

**–ó–∞—á–µ–º —Ç–∞–∫?**
- –ö–ª–∏–µ–Ω—Ç—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ –±—ã—Å—Ç—Ä—ã–º–∏.
- –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–µ–ª–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ‚Äî –ø—Ä–æ—â–µ, —á–µ–º —É –º–æ–Ω–æ–ª–∏—Ç–Ω—ã—Ö –±–æ—Ç–æ–≤.

---

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

1. **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
```bash
   python3 -m venv venv
   source venv/bin/activate
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements.txt
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. `env.example`):**
```bash
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª, –¥–æ–±–∞–≤–∏–≤ –≤–∞—à WEATHER_API_KEY
```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
```bash
python main.py
   # –∏–ª–∏
   uvicorn main:app --reload
   ```

5. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**  
   –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:  
   - Swagger UI: http://localhost:8000/docs  
   - ReDoc: http://localhost:8000/redoc

6. **–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤**
   - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–≥–æ–¥—É:
     ```bash
     curl -X POST "http://localhost:8000/weather" -H "Content-Type: application/json" -d '{"city": "–ú–æ—Å–∫–≤–∞"}'
     ```
   - –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–∞:
     ```bash
     curl -X POST "http://localhost:8000/cities/search" -H "Content-Type: application/json" -d '{"query": "–ú–æ—Å–∫–≤–∞"}'
     ```

---

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—á–∏

- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π FastAPI** ‚Äî –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.
- **Pydantic** ‚Äî —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö.
- **Swagger/OpenAPI** ‚Äî –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
- **Docker-ready** ‚Äî –ª–µ–≥–∫–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.
- **–ì–∏–±–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** ‚Äî –ª–µ–≥–∫–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å API.
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Äî health-check, –ª–æ–≥–∏, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.

---

## –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

- –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã (–±–æ—Ç, –≤–µ–±, –º–æ–±–∏–ª—å–Ω–æ–µ) —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ HTTP API.
- –°–µ—Ä–≤–µ—Ä —Å–∞–º –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –≤–Ω–µ—à–Ω–µ–º—É –ø–æ–≥–æ–¥–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å—É (WeatherAPI.com), —Ö—Ä–∞–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–µ—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ.
- –õ—é–±–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞, –∞–Ω—Ç–∏—Å–ø–∞–º) —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
- –ö–ª–∏–µ–Ω—Ç—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ "—Ç–æ–Ω–∫–∏–µ": —Ç–æ–ª—å–∫–æ UI –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤.

---

## –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞?

- Telegram-–±–æ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±—ã—Å—Ç—Ä—ã–º–∏ –∏ –ª–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è.
- –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≥–¥–µ –≤–∞–∂–Ω–∞ –µ–¥–∏–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º.
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ—Ç –∂–µ API, —á—Ç–æ –∏ –±–æ—Ç—ã.
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø–∞–Ω–µ–ª–∏, –≤–∏–¥–∂–µ—Ç—ã).

---

## –ü–æ—á–µ–º—É —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ?

- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏.
- **–ì–∏–±–∫–æ—Å—Ç—å:** –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ–ª–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ —Ç—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –≤—Å–µ –∫–ª—é—á–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
- **–£–¥–æ–±—Å—Ç–≤–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∏:** —Ç–µ—Å—Ç—ã, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚Äî –≤—Å—ë —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–æ.

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª —Å –∫–ª—é—á–æ–º –æ—Ç WeatherAPI.
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä.
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API —Å –ª—é–±–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ ‚Äî Telegram-–±–æ—Ç, Postman, curl, –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

---

## –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker:

```bash
cp env.example .env
docker-compose up --build
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
weather-api-service/
‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ Dockerfile           # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml   # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ env.example          # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ logs/                # –ü–∞–ø–∫–∞ –¥–ª—è –ª–æ–≥–æ–≤
  ```

---

## –ê–≤—Ç–æ—Ä—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–≤.
- –í–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äî –≤ Issues –∏–ª–∏ Pull Requests.
